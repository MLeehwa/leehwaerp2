# ERP ì‹œìŠ¤í…œ

í˜„ëŒ€ì ì¸ ì›¹ ê¸°ë°˜ ERP(Enterprise Resource Planning) ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

## ê¸°ìˆ  ìŠ¤íƒ

### ë°±ì—”ë“œ
- Node.js
- Express.js
- TypeScript
- MongoDB (ë˜ëŠ” PostgreSQL)

### í”„ë¡ íŠ¸ì—”ë“œ
- React
- TypeScript
- Material-UI ë˜ëŠ” Tailwind CSS

## ì£¼ìš” ê¸°ëŠ¥

### ê¸°ë³¸ ëª¨ë“ˆ
- ì‚¬ìš©ì ì¸ì¦ ë° ê¶Œí•œ ê´€ë¦¬
- ì¬ê³  ê´€ë¦¬
- ê³ ê° ê´€ë¦¬
- ê³µê¸‰ì—…ì²´ ê´€ë¦¬
- **êµ¬ë§¤ ì¹´í…Œê³ ë¦¬ ê´€ë¦¬**
  - ì¹´í…Œê³ ë¦¬ ì½”ë“œ ë° ëª…ì¹­ ê´€ë¦¬
  - ì¹´í…Œê³ ë¦¬ ìœ í˜•: ì¼ë°˜êµ¬ë§¤, ë¬¼ë¥˜ë¹„, ê²½ë¹„, ê¸°íƒ€
  - PR/POì—ì„œ ì¹´í…Œê³ ë¦¬ ì½”ë“œ ì‚¬ìš©
  - ì¹´í…Œê³ ë¦¬ë³„ ì‚¬ìš© í†µê³„

### êµ¬ë§¤-ì§€ê¸‰ í”„ë¡œì„¸ìŠ¤ (PR â†’ PO â†’ AP)
- **PR (Purchase Request) - êµ¬ë§¤ìš”ì²­**
  - êµ¬ë§¤ìš”ì²­ì„œ ì‘ì„± ë° ì œì¶œ
  - ìŠ¹ì¸/ê±°ë¶€ ì›Œí¬í”Œë¡œìš°
  - êµ¬ë§¤ì£¼ë¬¸ìœ¼ë¡œ ìë™ ë³€í™˜
  
- **PO (Purchase Order) - êµ¬ë§¤ì£¼ë¬¸**
  - êµ¬ë§¤ì£¼ë¬¸ì„œ ìƒì„± ë° ê´€ë¦¬
  - ê³µê¸‰ì—…ì²´ ë°œì†¡ ë° í™•ì¸
  - ì…ê³  ì²˜ë¦¬
  - ì…ê³  ì™„ë£Œ ì‹œ ë§¤ì…ì±„ë¬´(AP) ìë™ ìƒì„±
  
- **AP (Accounts Payable) - ë§¤ì…ì±„ë¬´/ì§€ê¸‰**
  - ë§¤ì…ì±„ë¬´ ê´€ë¦¬ ë° ì¶”ì 
  - ì§€ê¸‰ ì²˜ë¦¬ (ë¶€ë¶„/ì „ì•¡ ì§€ê¸‰)
  - ì§€ê¸‰ ë‚´ì—­ ìƒì„¸ ê´€ë¦¬
  - ë§Œë£Œì¼ ì¶”ì  ë° ë§Œë£Œ í•­ëª© ì•Œë¦¼
  - **ìê¸ˆ ì§€ê¸‰ ì¶”ì  ê¸°ëŠ¥**
    - ì§€ê¸‰ ì¼ì • ì¡°íšŒ (ì˜ˆì •ëœ ì§€ê¸‰)
    - ê¸°ê°„ë³„ ì§€ê¸‰ ë‚´ì—­ ì¡°íšŒ
    - ê³µê¸‰ì—…ì²´ë³„ ì§€ê¸‰ í˜„í™©
    - ì§€ê¸‰ ë°©ë²•ë³„ í†µê³„ (í˜„ê¸ˆ, ê³„ì¢Œì´ì²´, ìˆ˜í‘œ, ì¹´ë“œ)
    - ì´ë²ˆ ë‹¬ ì§€ê¸‰ ì˜ˆì • ê¸ˆì•¡
    - ìµœê·¼ ì§€ê¸‰ ë‚´ì—­ (30ì¼)
  - ì§€ê¸‰ í†µê³„ ëŒ€ì‹œë³´ë“œ

## ì„¤ì¹˜ ë° ì‹¤í–‰

### ğŸš€ ë¹ ë¥¸ ì‹œì‘ (ì¶”ì²œ)

**1ë‹¨ê³„: ì „ì²´ ì„¤ì¹˜ (ìµœì´ˆ 1íšŒë§Œ)**
```bash
npm run install:all
```

**2ë‹¨ê³„: ê°œë°œ ì„œë²„ ì‹œì‘**
```bash
npm start
# ë˜ëŠ”
npm run dev
```

**ë!** ì´ì œ ë‹¤ìŒ ì£¼ì†Œì—ì„œ ì ‘ì†í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
- ğŸŒ í”„ë¡ íŠ¸ì—”ë“œ: http://localhost:3000
- ğŸ”§ ë°±ì—”ë“œ API: http://localhost:5500
- âœ… Health Check: http://localhost:5500/api/health

### ğŸ“‹ ì£¼ìš” íŠ¹ì§•

âœ… **í•œ ë²ˆì˜ ëª…ë ¹ìœ¼ë¡œ ëª¨ë“  ê²ƒ ì‹¤í–‰**
- ë°±ì—”ë“œì™€ í”„ë¡ íŠ¸ì—”ë“œê°€ ìë™ìœ¼ë¡œ í•¨ê»˜ ì‹œì‘ë©ë‹ˆë‹¤
- ë³„ë„ í„°ë¯¸ë„ì´ë‚˜ ë³µì¡í•œ ì„¤ì •ì´ í•„ìš” ì—†ìŠµë‹ˆë‹¤

âœ… **ì•ˆì •ì ì¸ ì‹¤í–‰**
- ë°±ì—”ë“œê°€ ì‹¤íŒ¨í•´ë„ í”„ë¡ íŠ¸ì—”ë“œëŠ” ì •ìƒì ìœ¼ë¡œ ì‹œì‘ë©ë‹ˆë‹¤
- MongoDB ì—°ê²° ì‹¤íŒ¨ ì‹œì—ë„ ì„œë²„ê°€ ê³„ì† ì‹¤í–‰ë©ë‹ˆë‹¤
- ë‚˜ì¤‘ì— MongoDBë¥¼ ì—°ê²°í•˜ë©´ ìë™ìœ¼ë¡œ ì¬ì—°ê²°ë©ë‹ˆë‹¤

âœ… **ê°„ë‹¨í•œ ì¢…ë£Œ**
- `Ctrl+C` í•œ ë²ˆìœ¼ë¡œ ëª¨ë“  ì„œë²„ê°€ ì¢…ë£Œë©ë‹ˆë‹¤

### ğŸ” ê¸°ë³¸ ë¡œê·¸ì¸ ì •ë³´

**ê¸°ë³¸ ê´€ë¦¬ì ê³„ì • (ìë™ ìƒì„±ë¨):**
- ì´ë©”ì¼: `admin@erp.com`
- ë¹„ë°€ë²ˆí˜¸: `admin123`
- âš ï¸ ë³´ì•ˆì„ ìœ„í•´ ë¡œê·¸ì¸ í›„ ë¹„ë°€ë²ˆí˜¸ë¥¼ ë³€ê²½í•˜ì„¸ìš”!

**ê¸°ë³¸ ì¹´í…Œê³ ë¦¬ (ìë™ ìƒì„±ë¨):**
- PURCHASE - ì¼ë°˜ êµ¬ë§¤
- LOGISTICS - ë¬¼ë¥˜ë¹„
- EXPENSE - ê²½ë¹„

### ğŸ’¾ ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™”

```bash
npm run init:db
```

ì´ ëª…ë ¹ìœ¼ë¡œ ê¸°ë³¸ ê´€ë¦¬ì ê³„ì •ê³¼ ì¹´í…Œê³ ë¦¬ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

### ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ í™•ì¸ ë°©ë²•

#### ì›¹ ì¸í„°í˜ì´ìŠ¤
- ê´€ë¦¬ì ë©”ë‰´ â†’ "ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬" (`/admin/database`)
- SQLì²˜ëŸ¼ ë°ì´í„° ì¡°íšŒ, ìˆ˜ì •, ì‚­ì œ ê°€ëŠ¥

#### NASì—ì„œ ì§ì ‘ í™•ì¸
- **íŒŒì¼ í™•ì¸**: NAS íŒŒì¼ ì‹œìŠ¤í…œì—ì„œ ì§ì ‘ ì ‘ê·¼
  - ê²½ë¡œ: `{NAS_BASE_PATH}/projects/{projectId}/{category}/{year}/{month}/`
- **MongoDB ë°ì´í„° í™•ì¸**: MongoDB Compass ì‚¬ìš©
  - ë‹¤ìš´ë¡œë“œ: https://www.mongodb.com/try/download/compass
  - ì—°ê²°: `mongodb://localhost:27017/erp-system`
- ìì„¸í•œ ë‚´ìš©ì€ `docs/NAS_DATABASE_ACCESS.md` ì°¸ê³ 

### ğŸ’¾ ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™” (ì´ì „ ë‚´ìš©)

**MongoDB ì—°ê²° í›„ ì´ˆê¸° ë°ì´í„° ìƒì„±:**

```bash
# í•œ ë²ˆì˜ ëª…ë ¹ìœ¼ë¡œ ëª¨ë“  ê¸°ë³¸ ë°ì´í„° ìƒì„±
npm run init:db
```

ì´ ëª…ë ¹ìœ¼ë¡œ ë‹¤ìŒì´ ìƒì„±ë©ë‹ˆë‹¤:
- âœ… ê¸°ë³¸ ê´€ë¦¬ì ê³„ì • (admin@erp.com / admin123)
- âœ… ê¸°ë³¸ ì¹´í…Œê³ ë¦¬ (ì¼ë°˜ êµ¬ë§¤, ë¬¼ë¥˜ë¹„, ê²½ë¹„, ì‚¬ë¬´ìš©í’ˆ, ìœ ì§€ë³´ìˆ˜)

**ê°œë³„ ì‹œë“œ ìŠ¤í¬ë¦½íŠ¸:**
```bash
# ê´€ë¦¬ì ê³„ì •ë§Œ ìƒì„±
npm run seed

# ì¹´í…Œê³ ë¦¬ë§Œ ìƒì„±
npm run seed:categories
```

> ğŸ’¡ **MongoDBëŠ” ì„ íƒì‚¬í•­ì…ë‹ˆë‹¤!**
> - MongoDBê°€ ì—†ì–´ë„ ì„œë²„ëŠ” ì •ìƒì ìœ¼ë¡œ ì‹œì‘ë©ë‹ˆë‹¤
> - MongoDBê°€ í•„ìš”í•˜ë©´ ë‚˜ì¤‘ì— ì—°ê²°í•˜ë©´ ìë™ìœ¼ë¡œ ì¬ì—°ê²°ë©ë‹ˆë‹¤
> - MongoDB ì—°ê²° ì •ë³´ëŠ” `backend/.env` íŒŒì¼ì—ì„œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

### ğŸ”§ ê°œë³„ ì‹¤í–‰ (ê³ ê¸‰ ì‚¬ìš©ììš©)

í•„ìš”í•œ ê²½ìš°ì—ë§Œ ê°œë³„ì ìœ¼ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```bash
# ë°±ì—”ë“œë§Œ ì‹¤í–‰
npm run dev:backend

# í”„ë¡ íŠ¸ì—”ë“œë§Œ ì‹¤í–‰
npm run dev:frontend
```

### ë¬¸ì œ í•´ê²°
ë¡œê·¸ì¸ì´ ì•ˆ ë  ê²½ìš°:
1. MongoDBê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸ (`npm run check:db`)
2. ê´€ë¦¬ì ê³„ì •ì´ ìƒì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸ (`npm run seed`)
3. ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì—ëŸ¬ ë©”ì‹œì§€ í™•ì¸
4. Health check: `http://localhost:5000/api/health`

## API ì—”ë“œí¬ì¸íŠ¸

### ì¸ì¦
- `POST /api/auth/register` - íšŒì›ê°€ì…
- `POST /api/auth/login` - ë¡œê·¸ì¸

### ì¹´í…Œê³ ë¦¬ ê´€ë¦¬
- `GET /api/categories` - ì¹´í…Œê³ ë¦¬ ëª©ë¡
- `GET /api/categories/:id` - ì¹´í…Œê³ ë¦¬ ìƒì„¸
- `GET /api/categories/code/:code` - ì½”ë“œë¡œ ì¹´í…Œê³ ë¦¬ ì¡°íšŒ
- `POST /api/categories` - ì¹´í…Œê³ ë¦¬ ìƒì„±
- `PUT /api/categories/:id` - ì¹´í…Œê³ ë¦¬ ìˆ˜ì •
- `DELETE /api/categories/:id` - ì¹´í…Œê³ ë¦¬ ì‚­ì œ
- `GET /api/categories/stats/usage` - ì¹´í…Œê³ ë¦¬ ì‚¬ìš© í†µê³„

### êµ¬ë§¤-ì§€ê¸‰ í”„ë¡œì„¸ìŠ¤
- **êµ¬ë§¤ìš”ì²­ (PR)**
  - `GET /api/purchase-requests` - êµ¬ë§¤ìš”ì²­ ëª©ë¡
  - `POST /api/purchase-requests` - êµ¬ë§¤ìš”ì²­ ìƒì„±
  - `POST /api/purchase-requests/:id/submit` - êµ¬ë§¤ìš”ì²­ ì œì¶œ
  - `POST /api/purchase-requests/:id/approve` - êµ¬ë§¤ìš”ì²­ ìŠ¹ì¸/ê±°ë¶€
  - `POST /api/purchase-requests/:id/convert-to-po` - êµ¬ë§¤ì£¼ë¬¸ìœ¼ë¡œ ë³€í™˜

- **êµ¬ë§¤ì£¼ë¬¸ (PO)**
  - `GET /api/purchase-orders` - êµ¬ë§¤ì£¼ë¬¸ ëª©ë¡
  - `POST /api/purchase-orders` - êµ¬ë§¤ì£¼ë¬¸ ìƒì„±
  - `POST /api/purchase-orders/:id/approve` - êµ¬ë§¤ì£¼ë¬¸ ìŠ¹ì¸
  - `POST /api/purchase-orders/:id/receive` - ì…ê³  ì²˜ë¦¬

- **ë§¤ì…ì±„ë¬´ (AP)**
  - `GET /api/accounts-payable` - ë§¤ì…ì±„ë¬´ ëª©ë¡
  - `GET /api/accounts-payable/:id` - ë§¤ì…ì±„ë¬´ ìƒì„¸
  - `POST /api/accounts-payable` - ë§¤ì…ì±„ë¬´ ìƒì„±
  - `POST /api/accounts-payable/:id/pay` - ì§€ê¸‰ ì²˜ë¦¬
  - `GET /api/accounts-payable/:id/payments` - ì§€ê¸‰ ë‚´ì—­ ì¡°íšŒ
  - `GET /api/accounts-payable/payment-schedule` - ì§€ê¸‰ ì¼ì • ì¡°íšŒ
  - `GET /api/accounts-payable/payment-history` - ê¸°ê°„ë³„ ì§€ê¸‰ ë‚´ì—­
  - `GET /api/accounts-payable/supplier-summary` - ê³µê¸‰ì—…ì²´ë³„ ì§€ê¸‰ í˜„í™©
  - `GET /api/accounts-payable/payment-method-stats` - ì§€ê¸‰ ë°©ë²•ë³„ í†µê³„
  - `GET /api/accounts-payable/dashboard/stats` - ì§€ê¸‰ í†µê³„ ëŒ€ì‹œë³´ë“œ

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
erp-system/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ models/          # ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸
â”‚   â”‚   â”‚   â”œâ”€â”€ User.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ Product.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ PurchaseRequest.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ PurchaseOrder.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ AccountsPayable.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ Customer.ts
â”‚   â”‚   â”‚   â””â”€â”€ Supplier.ts
â”‚   â”‚   â”œâ”€â”€ routes/          # API ë¼ìš°íŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ purchaseRequests.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ purchaseOrders.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ accountsPayable.ts
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ middleware/      # ë¯¸ë“¤ì›¨ì–´
â”‚   â”‚   â”‚   â””â”€â”€ auth.ts
â”‚   â”‚   â””â”€â”€ server.ts        # ì„œë²„ ì§„ì…ì 
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ tsconfig.json
â”œâ”€â”€ frontend/         # í”„ë¡ íŠ¸ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ (ì¶”í›„ êµ¬í˜„)
â””â”€â”€ README.md
```

